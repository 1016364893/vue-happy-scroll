!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.happyScroll={})}(this,function(e){"use strict";function t(e,t,i){document.addEventListener?e.addEventListener(t,i):e.attachEvent("on"+t,i)}function i(e,t,i){document.addEventListener?e.removeEventListener(t,i):e.detachEvent("on"+t,i)}var n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"stripContainer",staticClass:"happy-scroll-strip",class:[e.horizontal?"happy-scroll-strip--horizontal":"happy-scroll-strip--vertical"],on:{"!wheel":function(t){t.stopPropagation(),e.handlerWheel(t)}}},[i("div",{ref:"strip",staticClass:"scrollBar",style:[e.translate,e.initStrip],on:{mousedown:function(t){t.stopPropagation(),e.handlerMouseDown(t)}}})])},staticRenderFns:[],name:"happy-scroll-strip",props:{horizontal:Boolean,percentage:{type:Number,required:!0},move:{type:Number,default:0}},data:()=>({config:{},startMove:!1,binded:!1,size:0}),computed:{initStrip(){const e=this.$refs.stripContainer;if(!this.percentage&&!e)return;const t=e[this.config.client]*this.percentage;return this.size=t,{[this.config.sizeAttr]:`${t}px`}},translate(){return{transform:`${this.config.translate}(${this.move*this.percentage}px)`}}},methods:{handlerMouseDown(e){this.startMove=!0,this.axis=e[this.config.clientAxis],this.bindEvents()},bindEvents(){this.binded||(t(document,"mouseup",this.handlerMouseUp),t(document,"mousemove",this.handlerMove),this.binded=!0)},handlerMouseUp(){this.startMove=!1},handlerMove(e){if(!this.startMove)return;e.preventDefault(),e.stopImmediatePropagation();const t=this.$refs.stripContainer.getBoundingClientRect(),i=this.$refs.strip.getBoundingClientRect()[this.config.direction]-t[this.config.direction],n=e[this.config.clientAxis]-this.axis+i;this.axis=e[this.config.clientAxis],this.changeOffset(n)},handlerWheel(e){const t=this.$refs.stripContainer.getBoundingClientRect(),i=this.$refs.strip.getBoundingClientRect()[this.config.direction]-t[this.config.direction]+e[this.config.wheelDelta];this.changeOffset(i,e)},changeOffset(e,t){const i=this.$refs.stripContainer.getBoundingClientRect()[this.config.sizeAttr]-this.size;e<0&&(e=0),e>i&&(e=i),t&&0<e&&e<i&&(t.preventDefault(),t.stopImmediatePropagation()),this.$refs.strip.style.transform=`${this.config.translate}(${e}px)`,this.$emit("input",e)}},created(){const e={h:{sizeAttr:"width",client:"clientWidth",clientAxis:"clientX",translate:"translateX",direction:"left",wheelDelta:"deltaX"},v:{sizeAttr:"height",client:"clientHeight",clientAxis:"clientY",translate:"translateY",direction:"top",wheelDelta:"deltaY"}};this.config=this.horizontal?e.h:e.v},destroyed(){i(document,"mouseup",this.handlerClickUp),i(document,"mousemove",this.handlerMove)}},s={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"happy-scroll",style:{width:e.width+"px",height:e.height+"px"}},[i("div",{ref:"container",staticClass:"happy-scroll-container",style:{width:e.width+15+"px",height:e.height+15+"px"},on:{scroll:function(t){t.stopPropagation(),e.onScroll(t)}}},[e._t("default")],2),i("happy-scroll-strip",{attrs:{percentage:e.percentageY,move:e.moveY},model:{value:e.slideY,callback:function(t){e.slideY=t},expression:"slideY"}}),i("happy-scroll-strip",{attrs:{horizontal:"",percentage:e.percentageX,move:e.moveX},model:{value:e.slideX,callback:function(t){e.slideX=t},expression:"slideX"}})],1)},staticRenderFns:[],name:"happy-scroll",props:{width:{type:Number,default:300},height:{type:Number,default:280}},data:()=>({percentageX:0,moveX:0,slideX:0,percentageY:0,moveY:0,slideY:0}),watch:{slideX(){this.$refs.container.scrollLeft=this.slideX/this.percentageX},slideY(){this.$refs.container.scrollTop=this.slideY/this.percentageY}},methods:{onScroll(e){this.moveY=this.$refs.container.scrollTop,this.moveX=this.$refs.container.scrollLeft}},components:{HappyScrollStrip:n},mounted(){this.percentageY=this.$refs.container.clientHeight/this.$refs.container.scrollHeight,this.percentageX=this.$refs.container.clientWidth/this.$refs.container.scrollWidth}};"undefined"!=typeof window&&window.Vue&&Vue.component("happy-scroll",s);var o={install(e){e.component("happy-scroll",s)}};e.default=o,e.HappyScroll=s,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=happy-scroll.min.js.map
